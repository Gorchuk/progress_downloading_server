This code will send the file to the server and will report the progress when it is downloaded (xhr.upload.onprogress), and also about the end of the request (xhr.onload, xhr.onerror).